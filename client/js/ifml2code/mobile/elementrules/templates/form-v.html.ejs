<div class="card z-depth-1">
    <div class="card-image">
        <ul class="card-image collection with-header">
            <li class="collection-header cyan">
                <h5 class="white-text light">
                    <%=name %>
                </h5>
            </li>
        </ul>
    </div>
    <div class="card-content">
        <div data-bind="if: fields">
            <form>
<% for (var i = 0; i < fields.length; i += 1) { -%>
                <div class="row">
                    <div class="input-field col s12">
                        <input id="<%=id%>_field_<%=i%>" data-bind="value: fields()['<%=fields[i]%>'], css: {invalid: errors()['<%=fields[i]%>']}" 
                            type="text" class="validate">
                        <label for="<%=id%>_field_<%=i%>" data-bind="css: {active: fields()['<%=fields[i]%>']}, attr: {'data-error': errors()['<%=fields[i]%>']}">
                            <%=fields[i]%>
                        </label>
                    </div>
                </div>
<% } -%>
            </form>
        </div>
    </div>
<% if (events.length) { -%>
    <div class="card-action">
<%     for (var i = 0; i < events.length; i += 1) {
           if (events[i].stereotype == 'system') { -%>
        <c-<%= events[i].id %> params="trigger: trigger.bind($data,'<%= events[i].id %>')"></c-<%= events[i].id %>>
<%         } else { -%>
        <a class="waves-effect waves-light btn cyan" 
            data-bind="click: trigger.bind($data, '<%= events[i].id %>')">
            <%= events[i].name %>
        </a>
<%         }
       } -%>
    </div>
<% } -%>
</div>
