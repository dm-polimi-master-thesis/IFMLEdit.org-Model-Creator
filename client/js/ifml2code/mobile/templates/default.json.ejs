<% var max =  Math.min(1000, Math.pow(4, Math.max(fields.length, 1))); -%>
[
<% for(var i=0; i < max; ++i) { -%>
    {
        "_id": <%= i %>,
        "id": "<%= i %>"<%= fields.length !== 0 ? ',': '' %>
    <%_ for(var f=0; f < fields.length; ++f) { -%>
        "<%= fields[f] %>": "<%= Math.floor(i / Math.pow(4, fields.length - f - 1)) % 4 %>"<%= f !== fields.length -1 ? ',': '' %>
    <%_ } -%>    }<%= i !== max -1 ? ',': '' %>
<% } -%>
]